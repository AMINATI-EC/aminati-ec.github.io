# AMINATI_EC 運用マニュアル

## 概要
AMINATI_ECは、GitHub Pagesで運用するシンプルなECサイトシステムです。

## システム構成

### 管理側（ローカル環境）
- **admin.html** - 商品登録画面
- **admin-orders.html** - 注文管理画面（IndexedDB依存のため、GitHub Pages版では使用不可）

### 公開側（GitHub Pages）
- **index.html** - トップページ（商品一覧）
- **products/[商品番号].html** - 各商品ページ
- **products.json** - 商品データ
- **trade.html** - お取引について
- **company.html** - 会社概要
- **contact.html** - お問い合わせ

## 運用フロー

### 1. 商品登録
1. ローカル環境で `admin.html` を開く
2. Excelファイルで商品データを準備
   ```
   商品番号 | ブランド名 | 商品名 | 販売価格 | 定価 | 素材 | 原産国 | カラー | サイズ
   21765   | ノーブランド | Tシャツ | 5000    | 10000 | 綿100% | 中国 | ホワイト,ブラック | S,M,L,XL
   ```
3. 画像ファイルをアップロード
   - サムネイル: `21765-1.jpg`
   - 詳細画像: `21765-2.jpg`, `21765-3.jpg` など
4. 「商品ページを生成」ボタンをクリック

### 2. ファイルのダウンロード
1. 生成完了後、「すべてのファイルをダウンロード (ZIP)」をクリック
2. ZIPファイルがダウンロードされる
   ```
   aminati-ec-2024-11-27.zip
   ├── index.html
   ├── products.json
   └── products/
       ├── 21765.html
       └── ...
   ```

### 3. GitHubへのアップロード
1. ZIPファイルを解凍
2. GitHubリポジトリにプッシュ
   ```bash
   git add .
   git commit -m "商品を追加"
   git push origin main
   ```
3. 数分後、サイトが更新される

## URL構成
- トップページ: `https://[ユーザー名].github.io/`
- 商品ページ: `https://[ユーザー名].github.io/products/21765.html`

## 注文処理
1. お客様が商品ページで「注文する」ボタンをクリック
2. 配送先情報を入力
3. 注文確定時にメール通知が送信される
   - お客様のメールアドレス（入力された場合）
   - 管理者のメールアドレス（admin設定で登録）

## 注意事項

### GitHub Pages版の制限
- 注文データはデータベースに保存されません（メール通知のみ）
- 在庫管理機能はありません
- リアルタイムの更新はできません

### 画像について
- 画像はCloudflare R2に自動アップロードされます
- 公開URL: `https://pub-a2319224352d4abda31362be3c2b1c19.r2.dev/products/[ファイル名]`

### メンテナンス
- 商品の追加・更新は、管理画面で再生成してGitHubにアップロード
- 商品の削除は、GitHubから該当ファイルを削除

## トラブルシューティング

### Q: スマホで商品が表示されない
A: 以下を確認してください：
1. URLが正しいか（/top/ではなくルートディレクトリ）
2. products.jsonが正しくアップロードされているか
3. ブラウザのキャッシュをクリア

### Q: 画像が表示されない
A: Cloudflare R2へのアップロードが失敗している可能性があります。
- ブラウザのコンソールでエラーを確認
- 画像URLが正しいか確認

### Q: 注文メールが届かない
A: Google Apps Scriptの設定を確認してください。
- 管理設定でメールアドレスが正しく登録されているか
- GASのURLが正しいか

## 今後の拡張案
- 在庫管理システムの実装
- 顧客管理システムの実装
- 売上レポート機能
- 商品検索機能
- カート機能（複数商品の一括注文）

## サポート
問題が発生した場合は、以下の情報と共にお問い合わせください：
- エラーメッセージ（ブラウザのコンソール）
- 使用しているブラウザとバージョン
- 問題が発生した手順